<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Rush</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: 
                conic-gradient(from 0deg at 30% 70%, rgba(255, 20, 147, 0.1) 0deg, rgba(0, 191, 255, 0.08) 90deg, rgba(50, 205, 50, 0.06) 180deg, rgba(255, 165, 0, 0.08) 270deg, rgba(255, 20, 147, 0.1) 360deg),
                conic-gradient(from 180deg at 70% 30%, rgba(138, 43, 226, 0.08) 0deg, rgba(255, 69, 0, 0.06) 90deg, rgba(0, 255, 255, 0.08) 180deg, rgba(255, 215, 0, 0.07) 270deg, rgba(138, 43, 226, 0.08) 360deg),
                radial-gradient(ellipse 800px 400px at 20% 80%, rgba(75, 0, 130, 0.06) 0%, transparent 50%),
                radial-gradient(ellipse 600px 300px at 80% 20%, rgba(220, 20, 60, 0.05) 0%, transparent 50%),
                radial-gradient(ellipse 400px 800px at 50% 10%, rgba(0, 128, 128, 0.04) 0%, transparent 50%),
                linear-gradient(125deg, #0a0a0a 0%, #1a0f1a 20%, #0f1a1a 40%, #1a1a0f 60%, #1a0f0f 80%, #0a0a0a 100%);
            background-size: 800% 800%, 700% 700%, 400% 400%, 350% 350%, 450% 450%, 100% 100%;
            animation: 
                galaxyPulse 25s ease-in-out infinite,
                cosmicRotate 50s linear infinite,
                nebulaShift 18s ease-in-out infinite alternate;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: white;
            overflow: hidden;
            position: relative;
        }

        @keyframes galaxyPulse {
            0%, 100% { background-size: 800% 800%, 700% 700%, 400% 400%, 350% 350%, 450% 450%, 100% 100%; }
            50% { background-size: 1000% 1000%, 900% 900%, 600% 600%, 550% 550%, 650% 650%, 100% 100%; }
        }

        @keyframes cosmicRotate {
            0% { filter: hue-rotate(0deg) saturate(0.9) brightness(0.95); }
            50% { filter: hue-rotate(180deg) saturate(1.2) brightness(1.05); }
            100% { filter: hue-rotate(360deg) saturate(0.9) brightness(0.95); }
        }

        @keyframes nebulaShift {
            0% { background-position: 0% 0%, 100% 100%, 0% 100%, 100% 0%, 50% 50%, 0% 0%; }
            100% { background-position: 100% 100%, 0% 0%, 100% 0%, 0% 100%, 75% 25%, 0% 0%; }
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-radial-gradient(circle at 25% 25%, transparent 0px, rgba(255, 255, 255, 0.03) 1px, transparent 4px, rgba(255, 255, 255, 0.01) 8px, transparent 16px),
                repeating-radial-gradient(circle at 75% 75%, transparent 0px, rgba(255, 255, 255, 0.025) 1px, transparent 6px, rgba(255, 255, 255, 0.008) 12px, transparent 24px),
                repeating-radial-gradient(circle at 10% 90%, transparent 0px, rgba(255, 255, 255, 0.02) 1px, transparent 3px, rgba(255, 255, 255, 0.006) 9px, transparent 18px),
                repeating-radial-gradient(circle at 90% 10%, transparent 0px, rgba(255, 255, 255, 0.035) 1px, transparent 2px, rgba(255, 255, 255, 0.01) 6px, transparent 12px);
            background-size: 80px 80px, 100px 100px, 60px 60px, 90px 90px;
            animation: 
                stellarDrift 20s linear infinite,
                cosmicTwinkle 4s ease-in-out infinite alternate;
            pointer-events: none;
            z-index: -1;
            opacity: 0.7;
        }

        @keyframes stellarDrift {
            0% { transform: translate(0px, 0px) rotate(0deg); }
            25% { transform: translate(-15px, -20px) rotate(90deg); }
            50% { transform: translate(20px, -15px) rotate(180deg); }
            75% { transform: translate(-10px, 15px) rotate(270deg); }
            100% { transform: translate(0px, 0px) rotate(360deg); }
        }

        @keyframes cosmicTwinkle {
            0% { opacity: 0.5; }
            100% { opacity: 0.9; }
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                conic-gradient(from 60deg at 20% 30%, transparent 0deg, rgba(255, 20, 147, 0.02) 45deg, transparent 90deg),
                conic-gradient(from 240deg at 80% 70%, transparent 0deg, rgba(50, 205, 50, 0.015) 45deg, transparent 90deg),
                conic-gradient(from 120deg at 40% 80%, transparent 0deg, rgba(138, 43, 226, 0.015) 60deg, transparent 120deg),
                conic-gradient(from 300deg at 60% 20%, transparent 0deg, rgba(0, 255, 255, 0.02) 60deg, transparent 120deg);
            background-size: 500px 500px, 450px 450px, 350px 350px, 400px 400px;
            animation: energyBeams 40s linear infinite;
            pointer-events: none;
            z-index: -1;
            mix-blend-mode: screen;
            opacity: 0.6;
        }

        @keyframes energyBeams {
            0% { transform: rotate(0deg) scale(1); }
            100% { transform: rotate(360deg) scale(1.1); }
        }

        .game-container {
            background: 
                linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.03) 50%, rgba(255, 255, 255, 0.08) 100%),
                radial-gradient(ellipse at 25% 25%, rgba(255, 20, 147, 0.05) 0%, transparent 60%),
                radial-gradient(ellipse at 75% 75%, rgba(58, 134, 255, 0.04) 0%, transparent 60%),
                radial-gradient(ellipse at 50% 10%, rgba(50, 205, 50, 0.03) 0%, transparent 70%);
            backdrop-filter: blur(25px) saturate(1.3);
            border-radius: 30px;
            padding: 40px;
            box-shadow: 
                0 25px 70px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 0 50px rgba(255, 20, 147, 0.04),
                0 0 80px rgba(58, 134, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.12);
            text-align: center;
            max-width: 500px;
            width: 90%;
            position: relative;
            overflow: hidden;
            animation: containerFloat 10s ease-in-out infinite;
        }

        @keyframes containerFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-3px) rotate(0.2deg); }
            50% { transform: translateY(-6px) rotate(0deg); }
            75% { transform: translateY(-3px) rotate(-0.2deg); }
        }

        .game-container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: conic-gradient(from 0deg, 
                rgba(255, 20, 147, 0.3) 0deg, 
                rgba(255, 165, 0, 0.25) 72deg, 
                rgba(50, 205, 50, 0.3) 144deg, 
                rgba(58, 134, 255, 0.35) 216deg, 
                rgba(138, 43, 226, 0.25) 288deg, 
                rgba(255, 20, 147, 0.3) 360deg);
            border-radius: 32px;
            z-index: -1;
            animation: hologramSpin 8s linear infinite;
            filter: blur(2px);
            opacity: 0.7;
        }

        @keyframes hologramSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .game-container::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 150%;
            height: 150%;
            background: 
                conic-gradient(from 45deg, transparent 0deg, rgba(255, 255, 255, 0.02) 30deg, transparent 60deg),
                conic-gradient(from 225deg, transparent 0deg, rgba(255, 255, 255, 0.015) 30deg, transparent 60deg);
            transform: translate(-50%, -50%);
            animation: innerGlow 12s linear infinite reverse;
            pointer-events: none;
            z-index: -1;
            mix-blend-mode: overlay;
            opacity: 0.6;
        }

        @keyframes innerGlow {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .game-info {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            font-size: 1.2em;
            font-weight: bold;
        }

        .sequence-display {
            margin: 20px 0;
            font-size: 1.4em;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 30px 0;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .tile {
            width: 80px;
            height: 80px;
            border: none;
            border-radius: 15px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .tile:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .tile:active {
            transform: translateY(0);
        }

        .tile.disabled {
            cursor: not-allowed;
            opacity: 0.6;
            transform: none !important;
        }

        .red { background: linear-gradient(135deg, #ff6b6b, #ee5a24); }
        .blue { background: linear-gradient(135deg, #74b9ff, #0984e3); }
        .green { background: linear-gradient(135deg, #00b894, #00a085); }
        .yellow { background: linear-gradient(135deg, #fdcb6e, #f39c12); }
        .purple { background: linear-gradient(135deg, #a29bfe, #6c5ce7); }
        .orange { background: linear-gradient(135deg, #fd79a8, #e84393); }
        .cyan { background: linear-gradient(135deg, #00cec9, #00b894); }
        .pink { background: linear-gradient(135deg, #fd79a8, #fdcb6e); }

        .controls {
            margin-top: 20px;
        }

        .btn {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 1.1em;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .status {
            margin: 20px 0;
            font-size: 1.3em;
            font-weight: bold;
            min-height: 30px;
        }

        .success { color: #00b894; }
        .error { color: #e17055; }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00b894, #00cec9);
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        @media (max-width: 500px) {
            .tile {
                width: 60px;
                height: 60px;
                font-size: 1em;
            }
            
            .game-container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>🎨 Color Rush</h1>
        
        <div class="game-info">
            <span>Level: <span id="level">1</span></span>
            <span>Score: <span id="score">0</span></span>
            <span>Lives: <span id="lives">3</span></span>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="sequence-display" id="sequenceDisplay">
            Ready to start? Click "New Game"!
        </div>

        <div class="grid" id="gameGrid"></div>

        <div class="status" id="status"></div>

        <div class="controls">
            <button class="btn" id="newGameBtn" onclick="startNewGame()">New Game</button>
            <button class="btn" id="showSequenceBtn" onclick="showSequence()" disabled>Show Sequence</button>
        </div>
    </div>

    <script>
        class ColorRush {
            constructor() {
                this.colors = ['red', 'blue', 'green', 'yellow', 'purple', 'orange', 'cyan', 'pink'];
                this.colorNames = ['Red', 'Blue', 'Green', 'Yellow', 'Purple', 'Orange', 'Cyan', 'Pink'];
                this.level = 1;
                this.score = 0;
                this.lives = 3;
                this.sequence = [];
                this.playerSequence = [];
                this.isShowingSequence = false;
                this.gameActive = false;
                
                this.initializeGrid();
                this.updateDisplay();
            }

            initializeGrid() {
                const grid = document.getElementById('gameGrid');
                grid.innerHTML = '';
                
                for (let i = 0; i < 16; i++) {
                    const tile = document.createElement('button');
                    tile.className = `tile ${this.colors[i % 8]}`;
                    tile.textContent = this.colorNames[i % 8];
                    tile.onclick = () => this.handleTileClick(i % 8);
                    grid.appendChild(tile);
                }
            }

            generateSequence() {
                const sequenceLength = Math.min(3 + Math.floor(this.level / 2), 8);
                this.sequence = [];
                
                for (let i = 0; i < sequenceLength; i++) {
                    this.sequence.push(Math.floor(Math.random() * 8));
                }
            }

            showSequence() {
                if (this.isShowingSequence) return;
                
                this.isShowingSequence = true;
                this.disableAllTiles();
                document.getElementById('showSequenceBtn').disabled = true;
                document.getElementById('status').textContent = '';

                const sequenceDisplay = document.getElementById('sequenceDisplay');
                const sequenceText = this.sequence.map(colorIndex => this.colorNames[colorIndex]).join(' → ');
                
                sequenceDisplay.innerHTML = `<strong>Memorize: ${sequenceText}</strong>`;
                
                // Show sequence for a duration based on level (longer sequences get more time)
                const displayTime = Math.max(2000, this.sequence.length * 800);
                
                setTimeout(() => {
                    sequenceDisplay.textContent = 'Now tap the colors in order!';
                    this.enableAllTiles();
                    this.isShowingSequence = false;
                    this.playerSequence = [];
                    this.updateProgress();
                }, displayTime);
            }

            handleTileClick(colorIndex) {
                if (!this.gameActive || this.isShowingSequence) return;

                this.playerSequence.push(colorIndex);
                
                // Check if the clicked color matches the sequence
                const currentStep = this.playerSequence.length - 1;
                
                if (this.playerSequence[currentStep] !== this.sequence[currentStep]) {
                    this.handleWrongColor();
                    return;
                }

                // Update progress
                this.updateProgress();

                // Check if sequence is complete
                if (this.playerSequence.length === this.sequence.length) {
                    this.handleLevelComplete();
                }
            }

            handleWrongColor() {
                this.lives--;
                this.updateDisplay();
                
                const status = document.getElementById('status');
                status.textContent = '❌ Wrong color! Try again.';
                status.className = 'status error';
                
                if (this.lives <= 0) {
                    this.gameOver();
                } else {
                    setTimeout(() => {
                        this.showSequence();
                    }, 1500);
                }
            }

            handleLevelComplete() {
                this.score += this.level * 100;
                this.level++;
                this.updateDisplay();
                
                const status = document.getElementById('status');
                status.textContent = `🎉 Level ${this.level - 1} complete! +${(this.level - 1) * 100} points`;
                status.className = 'status success';
                
                setTimeout(() => {
                    this.startLevel();
                }, 2000);
            }

            gameOver() {
                this.gameActive = false;
                this.disableAllTiles();
                
                const status = document.getElementById('status');
                status.textContent = `💀 Game Over! Final Score: ${this.score}`;
                status.className = 'status error';
                
                document.getElementById('newGameBtn').disabled = false;
                document.getElementById('showSequenceBtn').disabled = true;
                document.getElementById('sequenceDisplay').textContent = 'Game Over! Click "New Game" to play again.';
            }

            startLevel() {
                this.generateSequence();
                document.getElementById('showSequenceBtn').disabled = false;
                document.getElementById('status').textContent = '';
                document.getElementById('sequenceDisplay').textContent = `Level ${this.level} - Click "Show Sequence" when ready!`;
                this.updateProgress();
            }

            startNewGame() {
                this.level = 1;
                this.score = 0;
                this.lives = 3;
                this.sequence = [];
                this.playerSequence = [];
                this.gameActive = true;
                
                this.updateDisplay();
                this.startLevel();
                
                document.getElementById('newGameBtn').disabled = true;
            }

            updateDisplay() {
                document.getElementById('level').textContent = this.level;
                document.getElementById('score').textContent = this.score;
                document.getElementById('lives').textContent = this.lives;
            }

            updateProgress() {
                const progress = this.sequence.length > 0 ? (this.playerSequence.length / this.sequence.length) * 100 : 0;
                document.getElementById('progressFill').style.width = progress + '%';
            }

            disableAllTiles() {
                const tiles = document.querySelectorAll('.tile');
                tiles.forEach(tile => tile.classList.add('disabled'));
            }

            enableAllTiles() {
                const tiles = document.querySelectorAll('.tile');
                tiles.forEach(tile => tile.classList.remove('disabled'));
            }
        }

        // Initialize game
        let game;

        function startNewGame() {
            game = new ColorRush();
            game.startNewGame();
        }

        function showSequence() {
            if (game) {
                game.showSequence();
            }
        }

        // Initialize on page load
        window.onload = function() {
            game = new ColorRush();
        };
    </script>
</body>
</html>